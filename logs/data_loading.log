2025-06-17 16:38:59,711 - data.load_data - INFO - Loaded Kaggle credentials from /Users/kathan/Downloads/Customer Churn Analysis/kaggle.json
2025-06-17 16:38:59,711 - data.load_data - ERROR - Kaggle package not installed. Install with: pip install kaggle
2025-06-17 16:38:59,711 - data.load_data - WARNING - Failed to download Churn_Modelling.csv from Kaggle. Returning expected path for pipeline continuity.
2025-06-17 16:38:59,711 - data.load_data - INFO - Loaded Kaggle credentials from /Users/kathan/Downloads/Customer Churn Analysis/kaggle.json
2025-06-17 16:39:20,953 - data.load_data - INFO - Loaded Kaggle credentials from /Users/kathan/Downloads/Customer Churn Analysis/kaggle.json
2025-06-17 16:39:20,953 - data.load_data - ERROR - Kaggle package not installed. Install with: pip install kaggle
2025-06-17 16:39:20,953 - data.load_data - WARNING - Failed to download Churn_Modelling.csv from Kaggle. Returning expected path for pipeline continuity.
2025-06-17 16:39:37,934 - data.load_data - INFO - Loaded Kaggle credentials from /Users/kathan/Downloads/Customer Churn Analysis/kaggle.json
2025-06-17 16:39:37,936 - data.load_data - INFO - Downloading dataset: mashlyn/customer-churn-modeling (attempt 1/3)
2025-06-17 16:39:38,211 - data.load_data - WARNING - Download attempt 1 failed: (403)
Reason: Forbidden
HTTP response headers: HTTPHeaderDict({'Content-Type': 'application/json', 'Date': 'Tue, 17 Jun 2025 23:39:38 GMT', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': '*', 'Set-Cookie': 'ka_sessionid=0a807fadedbb594833e32d34e73bbe95; max-age=2626560; path=/, GCLB=CNDN0daJzqzL3wEQAw; path=/; HttpOnly', 'Vary': 'Accept-Encoding', 'X-Kaggle-MillisecondsElapsed': '5', 'X-Kaggle-RequestId': 'd2f6f23f816ce2c8f090d08af0dc2e29', 'X-Kaggle-ApiVersion': '1.7.4.2', 'X-Kaggle-HubVersion': '0.3.12', 'X-Frame-Options': 'SAMEORIGIN', 'Strict-Transport-Security': 'max-age=63072000; includeSubDomains; preload', 'Content-Security-Policy': "object-src 'none'; script-src 'nonce-mlwY2sRgHxCX/GrOmeUzew==' 'report-sample' 'unsafe-inline' 'unsafe-eval' 'strict-dynamic' https: http:; base-uri 'none'; report-uri https://csp.withgoogle.com/csp/kaggle/20201130; frame-src 'self' https://www.kaggleusercontent.com https://www.youtube.com/embed/ https://polygraph-cool.github.io https://www.google.com/recaptcha/ https://www.docdroid.com https://www.docdroid.net https://kaggle-static.storage.googleapis.com https://kkb-production.jupyter-proxy.kaggle.net https://kkb-production.firebaseapp.com https://kaggle-metastore.firebaseapp.com https://apis.google.com https://content-sheets.googleapis.com/ https://accounts.google.com/ https://storage.googleapis.com https://docs.google.com https://drive.google.com https://calendar.google.com/ https://google.qualtrics.com/ ;", 'X-Content-Type-Options': 'nosniff', 'Referrer-Policy': 'strict-origin-when-cross-origin', 'Via': '1.1 google', 'Alt-Svc': 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000', 'Transfer-Encoding': 'chunked'})
HTTP response body: b'{"code":403,"message":"Permission \\u0027datasets.get\\u0027 was denied"}'

2025-06-17 16:39:38,211 - data.load_data - INFO - Retrying in 1 seconds...
2025-06-17 16:39:39,214 - data.load_data - INFO - Downloading dataset: mashlyn/customer-churn-modeling (attempt 2/3)
2025-06-17 16:39:39,321 - data.load_data - WARNING - Download attempt 2 failed: (403)
Reason: Forbidden
HTTP response headers: HTTPHeaderDict({'Content-Type': 'application/json', 'Date': 'Tue, 17 Jun 2025 23:39:38 GMT', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': '*', 'Set-Cookie': 'ka_sessionid=e3a959cfb832bf7c05db9b831acb5712; max-age=2626560; path=/, GCLB=CM7tn5mdkOL2ERAD; path=/; HttpOnly', 'Vary': 'Accept-Encoding', 'X-Kaggle-MillisecondsElapsed': '7', 'X-Kaggle-RequestId': 'd6807e84b84775899b0550389a749852', 'X-Kaggle-ApiVersion': '1.7.4.2', 'X-Kaggle-HubVersion': '0.3.12', 'X-Frame-Options': 'SAMEORIGIN', 'Strict-Transport-Security': 'max-age=63072000; includeSubDomains; preload', 'Content-Security-Policy': "object-src 'none'; script-src 'nonce-nNMi18G2xj8jIfuoJ58rJA==' 'report-sample' 'unsafe-inline' 'unsafe-eval' 'strict-dynamic' https: http:; base-uri 'none'; report-uri https://csp.withgoogle.com/csp/kaggle/20201130; frame-src 'self' https://www.kaggleusercontent.com https://www.youtube.com/embed/ https://polygraph-cool.github.io https://www.google.com/recaptcha/ https://www.docdroid.com https://www.docdroid.net https://kaggle-static.storage.googleapis.com https://kkb-production.jupyter-proxy.kaggle.net https://kkb-production.firebaseapp.com https://kaggle-metastore.firebaseapp.com https://apis.google.com https://content-sheets.googleapis.com/ https://accounts.google.com/ https://storage.googleapis.com https://docs.google.com https://drive.google.com https://calendar.google.com/ https://google.qualtrics.com/ ;", 'X-Content-Type-Options': 'nosniff', 'Referrer-Policy': 'strict-origin-when-cross-origin', 'Via': '1.1 google', 'Alt-Svc': 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000', 'Transfer-Encoding': 'chunked'})
HTTP response body: b'{"code":403,"message":"Permission \\u0027datasets.get\\u0027 was denied"}'

2025-06-17 16:39:39,321 - data.load_data - INFO - Retrying in 2 seconds...
2025-06-17 16:39:41,326 - data.load_data - INFO - Downloading dataset: mashlyn/customer-churn-modeling (attempt 3/3)
2025-06-17 16:39:41,424 - data.load_data - WARNING - Download attempt 3 failed: (403)
Reason: Forbidden
HTTP response headers: HTTPHeaderDict({'Content-Type': 'application/json', 'Date': 'Tue, 17 Jun 2025 23:39:41 GMT', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': '*', 'Set-Cookie': 'ka_sessionid=3d18c2d54b5375cf0b7aa2055b9f4150; max-age=2626560; path=/, GCLB=CNOP-tndk7jCNxAD; path=/; HttpOnly', 'Vary': 'Accept-Encoding', 'X-Kaggle-MillisecondsElapsed': '6', 'X-Kaggle-RequestId': 'c7a682d6d9579ce71301b7ae4da1b0b3', 'X-Kaggle-ApiVersion': '1.7.4.2', 'X-Kaggle-HubVersion': '0.3.12', 'X-Frame-Options': 'SAMEORIGIN', 'Strict-Transport-Security': 'max-age=63072000; includeSubDomains; preload', 'Content-Security-Policy': "object-src 'none'; script-src 'nonce-sDEH4W58cIi4xcw1oxSUNQ==' 'report-sample' 'unsafe-inline' 'unsafe-eval' 'strict-dynamic' https: http:; base-uri 'none'; report-uri https://csp.withgoogle.com/csp/kaggle/20201130; frame-src 'self' https://www.kaggleusercontent.com https://www.youtube.com/embed/ https://polygraph-cool.github.io https://www.google.com/recaptcha/ https://www.docdroid.com https://www.docdroid.net https://kaggle-static.storage.googleapis.com https://kkb-production.jupyter-proxy.kaggle.net https://kkb-production.firebaseapp.com https://kaggle-metastore.firebaseapp.com https://apis.google.com https://content-sheets.googleapis.com/ https://accounts.google.com/ https://storage.googleapis.com https://docs.google.com https://drive.google.com https://calendar.google.com/ https://google.qualtrics.com/ ;", 'X-Content-Type-Options': 'nosniff', 'Referrer-Policy': 'strict-origin-when-cross-origin', 'Via': '1.1 google', 'Alt-Svc': 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000', 'Transfer-Encoding': 'chunked'})
HTTP response body: b'{"code":403,"message":"Permission \\u0027datasets.get\\u0027 was denied"}'

2025-06-17 16:39:41,425 - data.load_data - ERROR - All 3 download attempts failed
2025-06-17 16:39:41,425 - data.load_data - WARNING - Failed to download Churn_Modelling.csv from Kaggle. Returning expected path for pipeline continuity.
2025-06-17 16:45:40,146 - data.load_data - INFO - Loaded Kaggle credentials from /Users/kathan/Downloads/Customer Churn Analysis/kaggle.json
2025-06-17 16:45:40,150 - data.load_data - INFO - Downloading dataset: mashlyn/customer-churn-modeling (attempt 1/3)
2025-06-17 16:45:40,313 - data.load_data - WARNING - Download attempt 1 failed: (403)
Reason: Forbidden
HTTP response headers: HTTPHeaderDict({'Content-Type': 'application/json', 'Date': 'Tue, 17 Jun 2025 23:45:39 GMT', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': '*', 'Set-Cookie': 'ka_sessionid=6fc829302b6680bbfbc6be7537075f7d; max-age=2626560; path=/, GCLB=CPvOs5a36sXCvAEQAw; path=/; HttpOnly', 'Vary': 'Accept-Encoding', 'X-Kaggle-MillisecondsElapsed': '5', 'X-Kaggle-RequestId': '1d208d63cd9b66212b471103c9300e68', 'X-Kaggle-ApiVersion': '1.7.4.2', 'X-Kaggle-HubVersion': '0.3.12', 'X-Frame-Options': 'SAMEORIGIN', 'Strict-Transport-Security': 'max-age=63072000; includeSubDomains; preload', 'Content-Security-Policy': "object-src 'none'; script-src 'nonce-AbX+3NPm7oNkZzvWQshPhA==' 'report-sample' 'unsafe-inline' 'unsafe-eval' 'strict-dynamic' https: http:; base-uri 'none'; report-uri https://csp.withgoogle.com/csp/kaggle/20201130; frame-src 'self' https://www.kaggleusercontent.com https://www.youtube.com/embed/ https://polygraph-cool.github.io https://www.google.com/recaptcha/ https://www.docdroid.com https://www.docdroid.net https://kaggle-static.storage.googleapis.com https://kkb-production.jupyter-proxy.kaggle.net https://kkb-production.firebaseapp.com https://kaggle-metastore.firebaseapp.com https://apis.google.com https://content-sheets.googleapis.com/ https://accounts.google.com/ https://storage.googleapis.com https://docs.google.com https://drive.google.com https://calendar.google.com/ https://google.qualtrics.com/ ;", 'X-Content-Type-Options': 'nosniff', 'Referrer-Policy': 'strict-origin-when-cross-origin', 'Via': '1.1 google', 'Alt-Svc': 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000', 'Transfer-Encoding': 'chunked'})
HTTP response body: b'{"code":403,"message":"Permission \\u0027datasets.get\\u0027 was denied"}'

2025-06-17 16:45:40,313 - data.load_data - INFO - Retrying in 1 seconds...
2025-06-17 16:45:41,314 - data.load_data - INFO - Downloading dataset: mashlyn/customer-churn-modeling (attempt 2/3)
2025-06-17 16:45:41,413 - data.load_data - WARNING - Download attempt 2 failed: (403)
Reason: Forbidden
HTTP response headers: HTTPHeaderDict({'Content-Type': 'application/json', 'Date': 'Tue, 17 Jun 2025 23:45:41 GMT', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': '*', 'Set-Cookie': 'ka_sessionid=4acbf1366583a11a657703c1199a02a9; max-age=2626560; path=/, GCLB=CKvVyPm6h6L7CxAD; path=/; HttpOnly', 'Vary': 'Accept-Encoding', 'X-Kaggle-MillisecondsElapsed': '6', 'X-Kaggle-RequestId': 'af352a0db1656136aa18bd759a3452ac', 'X-Kaggle-ApiVersion': '1.7.4.2', 'X-Kaggle-HubVersion': '0.3.12', 'X-Frame-Options': 'SAMEORIGIN', 'Strict-Transport-Security': 'max-age=63072000; includeSubDomains; preload', 'Content-Security-Policy': "object-src 'none'; script-src 'nonce-ReWCBWKsHliLanalrNidog==' 'report-sample' 'unsafe-inline' 'unsafe-eval' 'strict-dynamic' https: http:; base-uri 'none'; report-uri https://csp.withgoogle.com/csp/kaggle/20201130; frame-src 'self' https://www.kaggleusercontent.com https://www.youtube.com/embed/ https://polygraph-cool.github.io https://www.google.com/recaptcha/ https://www.docdroid.com https://www.docdroid.net https://kaggle-static.storage.googleapis.com https://kkb-production.jupyter-proxy.kaggle.net https://kkb-production.firebaseapp.com https://kaggle-metastore.firebaseapp.com https://apis.google.com https://content-sheets.googleapis.com/ https://accounts.google.com/ https://storage.googleapis.com https://docs.google.com https://drive.google.com https://calendar.google.com/ https://google.qualtrics.com/ ;", 'X-Content-Type-Options': 'nosniff', 'Referrer-Policy': 'strict-origin-when-cross-origin', 'Via': '1.1 google', 'Alt-Svc': 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000', 'Transfer-Encoding': 'chunked'})
HTTP response body: b'{"code":403,"message":"Permission \\u0027datasets.get\\u0027 was denied"}'

2025-06-17 16:45:41,413 - data.load_data - INFO - Retrying in 2 seconds...
2025-06-17 16:45:43,418 - data.load_data - INFO - Downloading dataset: mashlyn/customer-churn-modeling (attempt 3/3)
2025-06-17 16:45:43,521 - data.load_data - WARNING - Download attempt 3 failed: (403)
Reason: Forbidden
HTTP response headers: HTTPHeaderDict({'Content-Type': 'application/json', 'Date': 'Tue, 17 Jun 2025 23:45:42 GMT', 'Access-Control-Allow-Credentials': 'true', 'Access-Control-Allow-Origin': '*', 'Set-Cookie': 'ka_sessionid=7cecf5c5b8993a60c87d4b1a9349b254; max-age=2626560; path=/, GCLB=CJ292d3zuKXDuQEQAw; path=/; HttpOnly', 'Vary': 'Accept-Encoding', 'X-Kaggle-MillisecondsElapsed': '11', 'X-Kaggle-RequestId': '48e0cc0a6e9ae8a19ed068f7623e2622', 'X-Kaggle-ApiVersion': '1.7.4.2', 'X-Kaggle-HubVersion': '0.3.12', 'X-Frame-Options': 'SAMEORIGIN', 'Strict-Transport-Security': 'max-age=63072000; includeSubDomains; preload', 'Content-Security-Policy': "object-src 'none'; script-src 'nonce-p5txNeiYziOPIkXKiPcClg==' 'report-sample' 'unsafe-inline' 'unsafe-eval' 'strict-dynamic' https: http:; base-uri 'none'; report-uri https://csp.withgoogle.com/csp/kaggle/20201130; frame-src 'self' https://www.kaggleusercontent.com https://www.youtube.com/embed/ https://polygraph-cool.github.io https://www.google.com/recaptcha/ https://www.docdroid.com https://www.docdroid.net https://kaggle-static.storage.googleapis.com https://kkb-production.jupyter-proxy.kaggle.net https://kkb-production.firebaseapp.com https://kaggle-metastore.firebaseapp.com https://apis.google.com https://content-sheets.googleapis.com/ https://accounts.google.com/ https://storage.googleapis.com https://docs.google.com https://drive.google.com https://calendar.google.com/ https://google.qualtrics.com/ ;", 'X-Content-Type-Options': 'nosniff', 'Referrer-Policy': 'strict-origin-when-cross-origin', 'Via': '1.1 google', 'Alt-Svc': 'h3=":443"; ma=2592000,h3-29=":443"; ma=2592000', 'Transfer-Encoding': 'chunked'})
HTTP response body: b'{"code":403,"message":"Permission \\u0027datasets.get\\u0027 was denied"}'

2025-06-17 16:45:43,521 - data.load_data - ERROR - All 3 download attempts failed
2025-06-17 16:45:43,521 - data.load_data - WARNING - Failed to download Churn_Modelling.csv from Kaggle. Returning expected path for pipeline continuity.
2025-06-22 18:37:15,200 - data.load_data - INFO - Loading data from: /var/folders/10/wr28fhsj4755wxph12s_h2vc0000gn/T/tmpm5ia9p_1/data/raw/Churn_Modelling.csv
2025-06-22 18:37:15,202 - data.load_data - INFO - Data loaded successfully. Shape: (1000, 14)
2025-06-22 18:37:15,202 - data.load_data - INFO - Starting data validation
2025-06-22 18:37:15,204 - data.load_data - INFO - Schema validation passed
2025-06-22 18:37:15,205 - data.load_data - INFO - Sanity checks completed. Warnings: 0, Errors: 0
2025-06-22 18:37:15,205 - data.load_data - INFO - Data validation passed
2025-06-22 18:37:15,247 - data.load_data - INFO - Interim data saved to /var/folders/10/wr28fhsj4755wxph12s_h2vc0000gn/T/tmpm5ia9p_1/data/interim/churn_raw.parquet
2025-06-22 18:37:15,248 - data.clean_data - INFO - Starting data cleaning pipeline
2025-06-22 18:37:15,248 - data.clean_data - INFO - Loading interim data from: /var/folders/10/wr28fhsj4755wxph12s_h2vc0000gn/T/tmpm5ia9p_1/data/interim/churn_raw.parquet
2025-06-22 18:37:15,308 - data.clean_data - INFO - Data loaded successfully. Shape: (1000, 14)
2025-06-22 18:37:15,308 - data.clean_data - INFO - Removing PII column: CustomerId
2025-06-22 18:37:15,309 - data.clean_data - INFO - Removing PII column: Surname
2025-06-22 18:37:15,309 - data.clean_data - INFO - Removing PII column: RowNumber
2025-06-22 18:37:15,310 - data.clean_data - INFO - Missing value analysis completed. 2 columns have missing values
2025-06-22 18:37:15,312 - data.clean_data - INFO - Filled missing CreditScore with median (by geography if available)
2025-06-22 18:37:15,313 - data.clean_data - INFO - Filled missing EstimatedSalary with median (by geography if available)
2025-06-22 18:37:15,317 - data.clean_data - INFO - Outlier detection completed. 0 rows with outliers
2025-06-22 18:37:15,317 - data.clean_data - INFO - Created preprocessing pipeline with 3 transformers
2025-06-22 18:37:15,317 - data.clean_data - INFO - Numeric features: ['CreditScore', 'Age', 'Tenure', 'Balance', 'EstimatedSalary']
2025-06-22 18:37:15,317 - data.clean_data - INFO - Categorical features: ['Geography', 'Gender']
2025-06-22 18:37:15,317 - data.clean_data - INFO - Binary features: ['HasCrCard', 'IsActiveMember']
2025-06-22 18:37:15,330 - data.clean_data - INFO - Preprocessor saved to: /var/folders/10/wr28fhsj4755wxph12s_h2vc0000gn/T/tmpm5ia9p_1/models/preprocessor.pkl
2025-06-22 18:37:15,330 - data.clean_data - ERROR - Data cleaning pipeline failed: Shape of passed values is (1000, 11), indices imply (1000, 10)
2025-06-22 18:37:43,577 - data.load_data - INFO - Loading data from: /var/folders/10/wr28fhsj4755wxph12s_h2vc0000gn/T/tmpgh22or56/data/raw/Churn_Modelling.csv
2025-06-22 18:37:43,579 - data.load_data - INFO - Data loaded successfully. Shape: (1000, 14)
2025-06-22 18:37:43,579 - data.load_data - INFO - Starting data validation
2025-06-22 18:37:43,580 - data.load_data - INFO - Schema validation passed
2025-06-22 18:37:43,581 - data.load_data - INFO - Sanity checks completed. Warnings: 0, Errors: 0
2025-06-22 18:37:43,581 - data.load_data - INFO - Data validation passed
2025-06-22 18:37:43,624 - data.load_data - INFO - Interim data saved to /var/folders/10/wr28fhsj4755wxph12s_h2vc0000gn/T/tmpgh22or56/data/interim/churn_raw.parquet
2025-06-22 18:37:43,624 - data.clean_data - INFO - Starting data cleaning pipeline
2025-06-22 18:37:43,624 - data.clean_data - INFO - Loading interim data from: /var/folders/10/wr28fhsj4755wxph12s_h2vc0000gn/T/tmpgh22or56/data/interim/churn_raw.parquet
2025-06-22 18:37:43,683 - data.clean_data - INFO - Data loaded successfully. Shape: (1000, 14)
2025-06-22 18:37:43,683 - data.clean_data - INFO - Removing PII column: CustomerId
2025-06-22 18:37:43,684 - data.clean_data - INFO - Removing PII column: Surname
2025-06-22 18:37:43,684 - data.clean_data - INFO - Removing PII column: RowNumber
2025-06-22 18:37:43,685 - data.clean_data - INFO - Missing value analysis completed. 2 columns have missing values
2025-06-22 18:37:43,688 - data.clean_data - INFO - Filled missing CreditScore with median (by geography if available)
2025-06-22 18:37:43,689 - data.clean_data - INFO - Filled missing EstimatedSalary with median (by geography if available)
2025-06-22 18:37:43,693 - data.clean_data - INFO - Outlier detection completed. 0 rows with outliers
2025-06-22 18:37:43,693 - data.clean_data - INFO - Created preprocessing pipeline with 3 transformers
2025-06-22 18:37:43,693 - data.clean_data - INFO - Numeric features: ['CreditScore', 'Age', 'Tenure', 'Balance', 'EstimatedSalary']
2025-06-22 18:37:43,693 - data.clean_data - INFO - Categorical features: ['Geography', 'Gender']
2025-06-22 18:37:43,693 - data.clean_data - INFO - Binary features: ['HasCrCard', 'IsActiveMember']
2025-06-22 18:37:43,707 - data.clean_data - INFO - Preprocessor saved to: /var/folders/10/wr28fhsj4755wxph12s_h2vc0000gn/T/tmpgh22or56/models/preprocessor.pkl
2025-06-22 18:37:43,707 - data.clean_data - ERROR - Data cleaning pipeline failed: Shape of passed values is (1000, 11), indices imply (1000, 10)
